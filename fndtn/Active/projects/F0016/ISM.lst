0001e|"
0002e|"  File:	C:\FNDTN\ACTIVE\PROJECTS\F0016\ISM.abl
0003e|"  created:	10/18/99 22:54:38
0004e|"  from:	'C:\FNDTN\ACTIVE\PROJECTS\F0016\ISM.asf'
0005e|"  by:		fsm2hdl - version: 2.0.1.52
0006e|"
0007e|module ism
0008e|Title 'ism'
0009e|
0010e|Declarations
0011e|
0012e|"clocks
0013e|CLOCK PIN;
0014e|
0015e|"input ports
0016e|_RESET PIN;
0017e|IBUS15..IBUS10 PIN;
0018e|IBUS = [IBUS15..IBUS10];
0019e|INTERRUPT PIN;
0020e|
0021e|"output ports
0022e|ALU_ADD PIN;
0023e|ALU_CARRY_IN PIN;
0024e|BUS_NOT_SIGNEXTEND_TO_TEMP PIN;
0025e|CLOCK_INSTRUCTION_LATCH PIN;
0026e|CLOCK_PC PIN;
0027e|EN_DATAADDR_TO_INTERNALBUS PIN;
0028e|ENABLE_ADDER_TO_RESULT PIN;
0029e|ENABLE_AND_TO_RESULT PIN;
0030e|ENABLE_BUS_TO_ALU PIN;
0031e|ENABLE_CARRY_FROM_ALU PIN;
0032e|ENABLE_CARRY_OUT_TO_SHIFT_IN PIN;
0033e|ENABLE_CODEBUS_TO_LOGICAL PIN;
0034e|ENABLE_DATABUS_TO_LOGICAL PIN;
0035e|ENABLE_DOWN_REGADDR_TO_REG PIN;
0036e|ENABLE_EXTERNAL_TO_INTERNAL PIN;
0037e|ENABLE_GROUND_TO_BUS PIN;
0038e|ENABLE_INSTRUCTION_STATE PIN;
0039e|ENABLE_INTERNAL_TO_EXTERNAL PIN;
0040e|ENABLE_INVERT_TO_RESULT PIN;
0041e|ENABLE_LOAD_SHIFT PIN;
0042e|ENABLE_MMU_PHYS_TO_BUS PIN;
0043e|ENABLE_OR_TO_RESULT PIN;
0044e|ENABLE_OVERFLOW_FROM_ALU PIN;
0045e|ENABLE_PC_TO_BUS PIN;
0046e|ENABLE_REGISTERS_TO_BUS PIN;
0047e|ENABLE_RESULT_TO_BUS PIN;
0048e|ENABLE_SHIFT_OUT_TO_CARRY_IN PIN;
0049e|ENABLE_SHIFT_OUT_TO_SHIFT_IN PIN;
0050e|ENABLE_SHIFTER_TO_RESULT PIN;
0051e|ENABLE_SUPERREG_READ PIN;
0052e|ENABLE_SUPERREG_WRITE PIN;
0053e|ENABLE_USR_FROM_BUS PIN;
0054e|ENABLE_USR_TO_BUS PIN;
0055e|ENABLE_ZERO_TO_USR PIN;
0056e|LOAD_CARRY_BIT PIN;
0057e|LOAD_DATA_ADDRESS_LATCH PIN;
0058e|LOAD_OPERAND PIN;
0059e|LOAD_OVERFLOW_BIT PIN;
0060e|LOAD_PC PIN;
0061e|LOAD_RESULT_LATCH PIN;
0062e|LOAD_SHIFT PIN;
0063e|LOAD_ZERO_BIT PIN;
0064e|MEM_READ_NOT_WRITE PIN;
0065e|MEMREQ PIN;
0066e|READ_MMU PIN;
0067e|SHIFT_LEFT_NOT_RIGHT PIN;
0068e|SHIFT_OUT_BIT PIN;
0069e|SREGADDR_FROM_IWORD_NOT_UCODE PIN;
0070e|SUPERREG_ADDR_FROM_UCODE2..SUPERREG_ADDR_FROM_UCODE0 PIN;
0071e|SUPERREG_ADDR_FROM_UCODE = [SUPERREG_ADDR_FROM_UCODE2..SUPERREG_ADDR_FROM_UCODE0];
0072e|SUPERSET4..SUPERSET0 PIN;
0073e|SUPERSET = [SUPERSET4..SUPERSET0];
0074e|SUPERSET_NOT_BUS PIN;
0075e|UC_LOAD_FREEZE PIN;
0076e|UC_LOAD_ILLEGAL PIN;
0077e|UC_LOAD_INTENABLE PIN;
0078e|UC_LOAD_SOFTINT PIN;
0079e|UC_LOAD_SUPERBIT PIN;
0080e|WRITE_ENABLE_REGISTERS PIN;
0081e|WRITE_MMU PIN;
0082e|WRITE_TO_REGISTERS PIN;
0083e|
0084e|"******** USER DEFINED ENCODED state machine: Sreg0 ******
0085e|	Sreg0_0 NODE istype 'reg';
0086e|xilinx property 'save Sreg0_0';
0087e|	Sreg0_1 NODE istype 'reg';
0088e|xilinx property 'save Sreg0_1';
0089e|	Sreg0_2 NODE istype 'reg';
0090e|xilinx property 'save Sreg0_2';
0091e|	Sreg0_3 NODE istype 'reg';
0092e|xilinx property 'save Sreg0_3';
0093e|
0094e|	Sreg0 = [Sreg0_3, Sreg0_2, Sreg0_1, Sreg0_0];
0095e|
0096e|	IFETCH1 = ^b0011; 
0097e|	IFETCH2 = ^b0100; 
0098e|	IFETCH3 = ^b0101; 
0099e|	MOVE1 = ^b0110; 
0100e|	MOVE2 = ^b0111; 
0101e|	MOVE3 = ^b1000; 
0102e|	MOVE4 = ^b1001; 
0103e|	MOVE5 = ^b1010; 
0104e|	RESET = ^b0001; "Trap and Default state
0105e|
0106e|
0107e|Equations
0108e|
0109e|"diagram ACTIONS
0110e|
0111e|"************* state machine: Sreg0 *************
0112e|" clock signals definitions
0113e|	Sreg0.clk = CLOCK;
0114e|
0115e|	Sreg0_0.set = _RESET;
0116e|	Sreg0_1.clr = _RESET;
0117e|	Sreg0_2.clr = _RESET;
0118e|	Sreg0_3.clr = _RESET;
0119e|	WHEN ( (Sreg0 != IFETCH1) & (Sreg0 != IFETCH2) & (Sreg0 != IFETCH3) & (Sreg0 != MOVE1) & (Sreg0 != MOVE2) & (Sreg0 != MOVE3) & 
0120e|		(Sreg0 != MOVE4) & (Sreg0 != MOVE5) & (Sreg0 != RESET)) THEN
0121e|		Sreg0 := RESET;
0122e|
0123e|State_diagram Sreg0
0124e|
0125e|
0126e|State IFETCH1:
0127e|    
0128e|    CLOCK_PC=1; 
0129e|    ENABLE_CODEBUS_TO_LOGICAL=1; 
0130e|    MEM_READ_NOT_WRITE=1; 
0131e|    ENABLE_EXTERNAL_TO_INTERNAL=1; 
0132e|     GoTo IFETCH2;
0133e|
0134e|
0135e|State IFETCH2:
0136e|    
0137e|    CLOCK_PC=0; 
0138e|    MEMREQ=1; 
0139e|     GoTo IFETCH3;
0140e|
0141e|
0142e|State IFETCH3:
0143e|    
0144e|    CLOCK_INSTRUCTION_LATCH=0; 
0145e|     IF (IBUS==1) THEN 
0146e|    MOVE1;
0147e|     IF (IBUS==1024) THEN MOVE1;
0148e|     IF (IBUS==2048) THEN MOVE1;
0149e|
0150e|
0151e|State MOVE1:
0152e|    
0153e|    ENABLE_DOWN_REGADDR_TO_REG=0; 
0154e|    ENABLE_REGISTERS_TO_BUS=1; 
0155e|     GoTo MOVE2;
0156e|
0157e|
0158e|State MOVE2:
0159e|    
0160e|    LOAD_DATA_ADDRESS_LATCH=1; 
0161e|     GoTo MOVE3;
0162e|
0163e|
0164e|State MOVE3:
0165e|    
0166e|    ENABLE_REGISTERS_TO_BUS=0; 
0167e|    ENABLE_DOWN_REGADDR_TO_REG=1; 
0168e|    EN_DATAADDR_TO_INTERNALBUS=1; 
0169e|     GoTo MOVE4;
0170e|
0171e|
0172e|State MOVE4:
0173e|    
0174e|    WRITE_ENABLE_REGISTERS=0; 
0175e|     GoTo MOVE5;
0176e|
0177e|
0178e|State MOVE5:
0179e|    
0180e|    WRITE_TO_REGISTERS=1; 
0181e|     GoTo IFETCH1;
0182e|
0183e|
0184e|State RESET:
0185e|    
0186e|    ENABLE_CODEBUS_TO_LOGICAL=1; 
0187e|    MEM_READ_NOT_WRITE=1; 
0188e|    UC_LOAD_SUPERBIT=0; 
0189e|    SUPERSET_NOT_BUS=1; 
0190e|    SUPERSET='00001'; 
0191e|     GoTo IFETCH2;
0192e|
0193e|" end of state machine - Sreg0
0194e|
0195e|
0196e|end ism
0197e|